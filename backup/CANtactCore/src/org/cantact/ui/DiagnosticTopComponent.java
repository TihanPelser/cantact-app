/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package org.cantact.ui;

import java.awt.CardLayout;
import org.cantact.proto.IsotpInterface;
import org.cantact.proto.IsotpInterface.IsotpCallback;
import org.cantact.proto.UdsClient;
import org.netbeans.api.settings.ConvertAsProperties;
import org.openide.awt.ActionID;
import org.openide.awt.ActionReference;
import org.openide.windows.TopComponent;
import org.openide.util.NbBundle.Messages;

/**
 * Top component which displays something.
 */
@ConvertAsProperties(
        dtd = "-//org.cantact.ui//Diagnostic//EN",
        autostore = false
)
@TopComponent.Description(
        preferredID = "DiagnosticTopComponent",
        //iconBase="SET/PATH/TO/ICON/HERE", 
        persistenceType = TopComponent.PERSISTENCE_ALWAYS
)
@TopComponent.Registration(mode = "editor", openAtStartup = false)
@ActionID(category = "Window", id = "org.cantact.ui.DiagnosticTopComponent")
@ActionReference(path = "Menu/Window" /*, position = 333 */)
@TopComponent.OpenActionRegistration(
        displayName = "#CTL_DiagnosticAction",
        preferredID = "DiagnosticTopComponent"
)
@Messages({
    "CTL_DiagnosticAction=Diagnostic",
    "CTL_DiagnosticTopComponent=Diagnostic Window",
    "HINT_DiagnosticTopComponent=This is a Diagnostic window"
})
public final class DiagnosticTopComponent extends TopComponent {

    private final UdsClient udsClient;
    IsotpInterface isotp;

    
    public DiagnosticTopComponent() {
        initComponents();
        setName(Bundle.CTL_DiagnosticTopComponent());
        setToolTipText(Bundle.HINT_DiagnosticTopComponent());
        isotp = new IsotpInterface(0, 0, new DiagnosticIsotpCallback());
        udsClient = new UdsClient(0, 0);
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {
        java.awt.GridBagConstraints gridBagConstraints;

        jLabel1 = new javax.swing.JLabel();
        transmitIdField = new javax.swing.JTextField();
        jLabel2 = new javax.swing.JLabel();
        receiveIdField = new javax.swing.JTextField();
        jLabel3 = new javax.swing.JLabel();
        serviceComboBox = new javax.swing.JComboBox();
        servicePanel = new javax.swing.JPanel();
        obdPanel = new javax.swing.JPanel();
        jLabel4 = new javax.swing.JLabel();
        obdModeComboBox = new javax.swing.JComboBox();
        jLabel5 = new javax.swing.JLabel();
        obdPidField = new javax.swing.JTextField();
        jLabel6 = new javax.swing.JLabel();
        obdRequestButton = new javax.swing.JButton();
        jLabel28 = new javax.swing.JLabel();
        jLabel29 = new javax.swing.JLabel();
        diagnosticSessionControlPanel = new javax.swing.JPanel();
        diagnosticSessionComboBox = new javax.swing.JComboBox();
        diagnosticSessionField = new javax.swing.JTextField();
        diagnosticSessionControlRequestButton = new javax.swing.JButton();
        ecuResetPanel = new javax.swing.JPanel();
        ecuResetTypeComboBox = new javax.swing.JComboBox();
        ecuResetTypeField = new javax.swing.JTextField();
        ecuResetRequestButton = new javax.swing.JButton();
        securityAccessPanel = new javax.swing.JPanel();
        jLabel7 = new javax.swing.JLabel();
        securityAccessSecurityLevelField = new javax.swing.JTextField();
        jLabel8 = new javax.swing.JLabel();
        securityAccessDataRecordField = new javax.swing.JTextField();
        jLabel9 = new javax.swing.JLabel();
        securityAccessRequestSeedButton = new javax.swing.JButton();
        jSeparator1 = new javax.swing.JSeparator();
        jSeparator2 = new javax.swing.JSeparator();
        jLabel10 = new javax.swing.JLabel();
        securityAccessSecurityKeyField = new javax.swing.JTextField();
        jLabel11 = new javax.swing.JLabel();
        securityAccessSendKeyButton = new javax.swing.JButton();
        communicationControlPanel = new javax.swing.JPanel();
        jLabel12 = new javax.swing.JLabel();
        communicationControlTypeComboBox = new javax.swing.JComboBox();
        jLabel13 = new javax.swing.JLabel();
        communicationControlTypeField = new javax.swing.JTextField();
        jLabel15 = new javax.swing.JLabel();
        communicationControlCommunicationTypeField = new javax.swing.JTextField();
        jLabel14 = new javax.swing.JLabel();
        ecuResetRequestButton1 = new javax.swing.JButton();
        testerPresentPanel = new javax.swing.JPanel();
        sendTesterPresentButton = new javax.swing.JButton();
        jLabel16 = new javax.swing.JLabel();
        readDataByIdPanel = new javax.swing.JPanel();
        jLabel17 = new javax.swing.JLabel();
        readDataByIdField = new javax.swing.JTextField();
        jLabel18 = new javax.swing.JLabel();
        readDataByIdRequestButton = new javax.swing.JButton();
        jLabel34 = new javax.swing.JLabel();
        jLabel35 = new javax.swing.JLabel();
        jLabel36 = new javax.swing.JLabel();
        jLabel37 = new javax.swing.JLabel();
        writeDataByIdPanel = new javax.swing.JPanel();
        jLabel19 = new javax.swing.JLabel();
        writeDataByIdIdentifierField = new javax.swing.JTextField();
        jLabel21 = new javax.swing.JLabel();
        writeDataByIdValueField = new javax.swing.JTextField();
        jLabel20 = new javax.swing.JLabel();
        writeDataByIdRequestButton = new javax.swing.JButton();
        jLabel38 = new javax.swing.JLabel();
        jLabel39 = new javax.swing.JLabel();
        clearDiagnosticInformationPanel = new javax.swing.JPanel();
        jLabel22 = new javax.swing.JLabel();
        clearDiagnosticInformationMaskField = new javax.swing.JTextField();
        jLabel23 = new javax.swing.JLabel();
        clearDiagnosticInformationRequestButton = new javax.swing.JButton();
        jLabel30 = new javax.swing.JLabel();
        jLabel31 = new javax.swing.JLabel();
        jLabel32 = new javax.swing.JLabel();
        jLabel33 = new javax.swing.JLabel();
        routineControlPanel = new javax.swing.JPanel();
        jLabel24 = new javax.swing.JLabel();
        routineControlTypeComboBox = new javax.swing.JComboBox();
        jLabel26 = new javax.swing.JLabel();
        routineControlIdentifierField = new javax.swing.JTextField();
        jLabel27 = new javax.swing.JLabel();
        routineControlOptionRecordField = new javax.swing.JTextField();
        jLabel25 = new javax.swing.JLabel();
        routineControlRequestButton = new javax.swing.JButton();
        jScrollPane1 = new javax.swing.JScrollPane();
        resultTextArea = new javax.swing.JTextArea();

        setMinimumSize(new java.awt.Dimension(600, 100));
        setPreferredSize(new java.awt.Dimension(800, 400));
        java.awt.GridBagLayout layout = new java.awt.GridBagLayout();
        layout.columnWeights = new double[] {0.0};
        layout.rowWeights = new double[] {1.0};
        setLayout(layout);

        org.openide.awt.Mnemonics.setLocalizedText(jLabel1, org.openide.util.NbBundle.getMessage(DiagnosticTopComponent.class, "DiagnosticTopComponent.jLabel1.text")); // NOI18N
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridy = 0;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.LINE_END;
        gridBagConstraints.insets = new java.awt.Insets(5, 5, 5, 5);
        add(jLabel1, gridBagConstraints);

        transmitIdField.setColumns(4);
        transmitIdField.setText(org.openide.util.NbBundle.getMessage(DiagnosticTopComponent.class, "DiagnosticTopComponent.transmitIdField.text")); // NOI18N
        transmitIdField.setSize(new java.awt.Dimension(14, 28));
        transmitIdField.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                transmitIdFieldActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.weighty = 0.75;
        gridBagConstraints.insets = new java.awt.Insets(5, 5, 5, 5);
        add(transmitIdField, gridBagConstraints);

        org.openide.awt.Mnemonics.setLocalizedText(jLabel2, org.openide.util.NbBundle.getMessage(DiagnosticTopComponent.class, "DiagnosticTopComponent.jLabel2.text")); // NOI18N
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 2;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.weighty = 0.1;
        gridBagConstraints.insets = new java.awt.Insets(5, 5, 5, 5);
        add(jLabel2, gridBagConstraints);

        receiveIdField.setColumns(4);
        receiveIdField.setText(org.openide.util.NbBundle.getMessage(DiagnosticTopComponent.class, "DiagnosticTopComponent.receiveIdField.text")); // NOI18N
        receiveIdField.setSize(new java.awt.Dimension(14, 28));
        receiveIdField.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                receiveIdFieldActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 3;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.weighty = 0.75;
        gridBagConstraints.insets = new java.awt.Insets(5, 5, 5, 5);
        add(receiveIdField, gridBagConstraints);

        org.openide.awt.Mnemonics.setLocalizedText(jLabel3, org.openide.util.NbBundle.getMessage(DiagnosticTopComponent.class, "DiagnosticTopComponent.jLabel3.text")); // NOI18N
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.LINE_END;
        gridBagConstraints.insets = new java.awt.Insets(5, 5, 5, 5);
        add(jLabel3, gridBagConstraints);

        serviceComboBox.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "OBD-II", "0x10 - DiagnosticSessionControl", "0x11 - ECUReset", "0x27 - SecurityAccess", "0x28 - CommunicationControl", "0x3E - TesterPresent", "0x22 - ReadDataByIdentifier", "0x2E - WriteDataByIdentifier", "0x14 - ClearDiagnosticInformation", "0x31 - RoutineControl", "-------", "0x23 - ReadMemoryByAddress", "0x24 - ReadScalingDataByIdentifier", "0x2A - ReadDataByPeriodicIdentifier", "0x2C - DynamicallyDefineDataIdentifier", "0x2F - InputOutputControlByIdentifier", "0x3D - WriteMemoryByAddress", "0x34 - RequestDownload", "0x35 - RequestUpload", "0x36 - TransferData", "0x37 - RequestTransferExit", "0x83 - AccessTimingParameter", "0x84 - SecuredDataTransmission", "0x85 - ControlDTCSetting", "0x86 - ResponseOnEvent", "0x87 - LinkControl" }));
        serviceComboBox.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                serviceComboBoxActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.gridwidth = 6;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.LINE_START;
        gridBagConstraints.insets = new java.awt.Insets(5, 5, 5, 5);
        add(serviceComboBox, gridBagConstraints);

        servicePanel.setLayout(new java.awt.CardLayout());

        obdPanel.setLayout(new java.awt.GridLayout(6, 2));

        org.openide.awt.Mnemonics.setLocalizedText(jLabel4, org.openide.util.NbBundle.getMessage(DiagnosticTopComponent.class, "DiagnosticTopComponent.jLabel4.text")); // NOI18N
        obdPanel.add(jLabel4);

        obdModeComboBox.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "0x01 - Show Current Data", "0x02 - Show Freeze Frame Data", "0x03 - Show Stored DTCs", "0x04 - Clear DTCs", "0x06 - Test Results", "0x07 - Show Pending DTCs", "0x08 - Control Operation", "0x09 - Request Vehicle Info", "0x0A - Permanent DTCs" }));
        obdPanel.add(obdModeComboBox);

        org.openide.awt.Mnemonics.setLocalizedText(jLabel5, org.openide.util.NbBundle.getMessage(DiagnosticTopComponent.class, "DiagnosticTopComponent.jLabel5.text")); // NOI18N
        obdPanel.add(jLabel5);

        obdPidField.setText(org.openide.util.NbBundle.getMessage(DiagnosticTopComponent.class, "DiagnosticTopComponent.obdPidField.text")); // NOI18N
        obdPanel.add(obdPidField);

        org.openide.awt.Mnemonics.setLocalizedText(jLabel6, org.openide.util.NbBundle.getMessage(DiagnosticTopComponent.class, "DiagnosticTopComponent.jLabel6.text")); // NOI18N
        obdPanel.add(jLabel6);

        org.openide.awt.Mnemonics.setLocalizedText(obdRequestButton, org.openide.util.NbBundle.getMessage(DiagnosticTopComponent.class, "DiagnosticTopComponent.obdRequestButton.text")); // NOI18N
        obdRequestButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                obdRequestButtonActionPerformed(evt);
            }
        });
        obdPanel.add(obdRequestButton);

        org.openide.awt.Mnemonics.setLocalizedText(jLabel28, org.openide.util.NbBundle.getMessage(DiagnosticTopComponent.class, "DiagnosticTopComponent.jLabel28.text")); // NOI18N
        obdPanel.add(jLabel28);

        org.openide.awt.Mnemonics.setLocalizedText(jLabel29, org.openide.util.NbBundle.getMessage(DiagnosticTopComponent.class, "DiagnosticTopComponent.jLabel29.text")); // NOI18N
        obdPanel.add(jLabel29);

        servicePanel.add(obdPanel, "obdCard");

        diagnosticSessionControlPanel.setLayout(new java.awt.GridLayout(6, 0));

        diagnosticSessionComboBox.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "0x01 - defaultSession", "0x02 - programmingSession", "0x03 - extendedDiagnosticSession", "0x04 - safetySystemDiagnosticSession", "Other..." }));
        diagnosticSessionControlPanel.add(diagnosticSessionComboBox);

        diagnosticSessionField.setText(org.openide.util.NbBundle.getMessage(DiagnosticTopComponent.class, "DiagnosticTopComponent.diagnosticSessionField.text")); // NOI18N
        diagnosticSessionControlPanel.add(diagnosticSessionField);

        org.openide.awt.Mnemonics.setLocalizedText(diagnosticSessionControlRequestButton, org.openide.util.NbBundle.getMessage(DiagnosticTopComponent.class, "DiagnosticTopComponent.diagnosticSessionControlRequestButton.text")); // NOI18N
        diagnosticSessionControlRequestButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                diagnosticSessionControlRequestButtonActionPerformed(evt);
            }
        });
        diagnosticSessionControlPanel.add(diagnosticSessionControlRequestButton);

        servicePanel.add(diagnosticSessionControlPanel, "diagnosticSessionControlCard");

        ecuResetPanel.setLayout(new java.awt.GridLayout(6, 0));

        ecuResetTypeComboBox.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "0x01 - hardReset", "0x02 - keyOffOnReset", "0x03 - softReset", "0x04 - enableRapidPowerDown", "0x05 - disableRapidPowerDown", "Other..." }));
        ecuResetPanel.add(ecuResetTypeComboBox);

        ecuResetTypeField.setText(org.openide.util.NbBundle.getMessage(DiagnosticTopComponent.class, "DiagnosticTopComponent.ecuResetTypeField.text")); // NOI18N
        ecuResetPanel.add(ecuResetTypeField);

        org.openide.awt.Mnemonics.setLocalizedText(ecuResetRequestButton, org.openide.util.NbBundle.getMessage(DiagnosticTopComponent.class, "DiagnosticTopComponent.ecuResetRequestButton.text")); // NOI18N
        ecuResetRequestButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                ecuResetRequestButtonActionPerformed(evt);
            }
        });
        ecuResetPanel.add(ecuResetRequestButton);

        servicePanel.add(ecuResetPanel, "ecuResetCard");

        securityAccessPanel.setLayout(new java.awt.GridLayout(6, 2));

        org.openide.awt.Mnemonics.setLocalizedText(jLabel7, org.openide.util.NbBundle.getMessage(DiagnosticTopComponent.class, "DiagnosticTopComponent.jLabel7.text")); // NOI18N
        securityAccessPanel.add(jLabel7);

        securityAccessSecurityLevelField.setText(org.openide.util.NbBundle.getMessage(DiagnosticTopComponent.class, "DiagnosticTopComponent.securityAccessSecurityLevelField.text")); // NOI18N
        securityAccessPanel.add(securityAccessSecurityLevelField);

        org.openide.awt.Mnemonics.setLocalizedText(jLabel8, org.openide.util.NbBundle.getMessage(DiagnosticTopComponent.class, "DiagnosticTopComponent.jLabel8.text")); // NOI18N
        securityAccessPanel.add(jLabel8);

        securityAccessDataRecordField.setText(org.openide.util.NbBundle.getMessage(DiagnosticTopComponent.class, "DiagnosticTopComponent.securityAccessDataRecordField.text")); // NOI18N
        securityAccessPanel.add(securityAccessDataRecordField);

        org.openide.awt.Mnemonics.setLocalizedText(jLabel9, org.openide.util.NbBundle.getMessage(DiagnosticTopComponent.class, "DiagnosticTopComponent.jLabel9.text")); // NOI18N
        securityAccessPanel.add(jLabel9);

        org.openide.awt.Mnemonics.setLocalizedText(securityAccessRequestSeedButton, org.openide.util.NbBundle.getMessage(DiagnosticTopComponent.class, "DiagnosticTopComponent.securityAccessRequestSeedButton.text")); // NOI18N
        securityAccessRequestSeedButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                securityAccessRequestSeedButtonActionPerformed(evt);
            }
        });
        securityAccessPanel.add(securityAccessRequestSeedButton);
        securityAccessPanel.add(jSeparator1);
        securityAccessPanel.add(jSeparator2);

        org.openide.awt.Mnemonics.setLocalizedText(jLabel10, org.openide.util.NbBundle.getMessage(DiagnosticTopComponent.class, "DiagnosticTopComponent.jLabel10.text")); // NOI18N
        securityAccessPanel.add(jLabel10);

        securityAccessSecurityKeyField.setText(org.openide.util.NbBundle.getMessage(DiagnosticTopComponent.class, "DiagnosticTopComponent.securityAccessSecurityKeyField.text")); // NOI18N
        securityAccessPanel.add(securityAccessSecurityKeyField);

        org.openide.awt.Mnemonics.setLocalizedText(jLabel11, org.openide.util.NbBundle.getMessage(DiagnosticTopComponent.class, "DiagnosticTopComponent.jLabel11.text")); // NOI18N
        securityAccessPanel.add(jLabel11);

        org.openide.awt.Mnemonics.setLocalizedText(securityAccessSendKeyButton, org.openide.util.NbBundle.getMessage(DiagnosticTopComponent.class, "DiagnosticTopComponent.securityAccessSendKeyButton.text")); // NOI18N
        securityAccessSendKeyButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                securityAccessSendKeyButtonActionPerformed(evt);
            }
        });
        securityAccessPanel.add(securityAccessSendKeyButton);

        servicePanel.add(securityAccessPanel, "securityAccessCard");

        communicationControlPanel.setLayout(new java.awt.GridLayout(6, 2));

        org.openide.awt.Mnemonics.setLocalizedText(jLabel12, org.openide.util.NbBundle.getMessage(DiagnosticTopComponent.class, "DiagnosticTopComponent.jLabel12.text")); // NOI18N
        communicationControlPanel.add(jLabel12);

        communicationControlTypeComboBox.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "0x00 - enableRxAndTx", "0x01 - enableRxAndDisableTx", "0x02 - disableRxAndEnableTx", "0x03 - disableRxAndTx", "Other..." }));
        communicationControlPanel.add(communicationControlTypeComboBox);

        org.openide.awt.Mnemonics.setLocalizedText(jLabel13, org.openide.util.NbBundle.getMessage(DiagnosticTopComponent.class, "DiagnosticTopComponent.jLabel13.text")); // NOI18N
        communicationControlPanel.add(jLabel13);

        communicationControlTypeField.setText(org.openide.util.NbBundle.getMessage(DiagnosticTopComponent.class, "DiagnosticTopComponent.communicationControlTypeField.text")); // NOI18N
        communicationControlPanel.add(communicationControlTypeField);

        org.openide.awt.Mnemonics.setLocalizedText(jLabel15, org.openide.util.NbBundle.getMessage(DiagnosticTopComponent.class, "DiagnosticTopComponent.jLabel15.text")); // NOI18N
        communicationControlPanel.add(jLabel15);

        communicationControlCommunicationTypeField.setText(org.openide.util.NbBundle.getMessage(DiagnosticTopComponent.class, "DiagnosticTopComponent.communicationControlCommunicationTypeField.text")); // NOI18N
        communicationControlPanel.add(communicationControlCommunicationTypeField);

        org.openide.awt.Mnemonics.setLocalizedText(jLabel14, org.openide.util.NbBundle.getMessage(DiagnosticTopComponent.class, "DiagnosticTopComponent.jLabel14.text")); // NOI18N
        communicationControlPanel.add(jLabel14);

        org.openide.awt.Mnemonics.setLocalizedText(ecuResetRequestButton1, org.openide.util.NbBundle.getMessage(DiagnosticTopComponent.class, "DiagnosticTopComponent.ecuResetRequestButton1.text")); // NOI18N
        communicationControlPanel.add(ecuResetRequestButton1);

        servicePanel.add(communicationControlPanel, "communicationControlCard");

        testerPresentPanel.setLayout(new java.awt.GridLayout(6, 0));

        org.openide.awt.Mnemonics.setLocalizedText(sendTesterPresentButton, org.openide.util.NbBundle.getMessage(DiagnosticTopComponent.class, "DiagnosticTopComponent.sendTesterPresentButton.text")); // NOI18N
        sendTesterPresentButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                sendTesterPresentButtonActionPerformed(evt);
            }
        });
        testerPresentPanel.add(sendTesterPresentButton);

        org.openide.awt.Mnemonics.setLocalizedText(jLabel16, org.openide.util.NbBundle.getMessage(DiagnosticTopComponent.class, "DiagnosticTopComponent.jLabel16.text")); // NOI18N
        testerPresentPanel.add(jLabel16);

        servicePanel.add(testerPresentPanel, "testerPresentCard");

        readDataByIdPanel.setLayout(new java.awt.GridLayout(6, 2));

        org.openide.awt.Mnemonics.setLocalizedText(jLabel17, org.openide.util.NbBundle.getMessage(DiagnosticTopComponent.class, "DiagnosticTopComponent.jLabel17.text")); // NOI18N
        readDataByIdPanel.add(jLabel17);

        readDataByIdField.setText(org.openide.util.NbBundle.getMessage(DiagnosticTopComponent.class, "DiagnosticTopComponent.readDataByIdField.text")); // NOI18N
        readDataByIdPanel.add(readDataByIdField);

        org.openide.awt.Mnemonics.setLocalizedText(jLabel18, org.openide.util.NbBundle.getMessage(DiagnosticTopComponent.class, "DiagnosticTopComponent.jLabel18.text")); // NOI18N
        readDataByIdPanel.add(jLabel18);

        org.openide.awt.Mnemonics.setLocalizedText(readDataByIdRequestButton, org.openide.util.NbBundle.getMessage(DiagnosticTopComponent.class, "DiagnosticTopComponent.readDataByIdRequestButton.text")); // NOI18N
        readDataByIdRequestButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                readDataByIdRequestButtonActionPerformed(evt);
            }
        });
        readDataByIdPanel.add(readDataByIdRequestButton);

        org.openide.awt.Mnemonics.setLocalizedText(jLabel34, org.openide.util.NbBundle.getMessage(DiagnosticTopComponent.class, "DiagnosticTopComponent.jLabel34.text")); // NOI18N
        readDataByIdPanel.add(jLabel34);

        org.openide.awt.Mnemonics.setLocalizedText(jLabel35, org.openide.util.NbBundle.getMessage(DiagnosticTopComponent.class, "DiagnosticTopComponent.jLabel35.text")); // NOI18N
        readDataByIdPanel.add(jLabel35);

        org.openide.awt.Mnemonics.setLocalizedText(jLabel36, org.openide.util.NbBundle.getMessage(DiagnosticTopComponent.class, "DiagnosticTopComponent.jLabel36.text")); // NOI18N
        readDataByIdPanel.add(jLabel36);

        org.openide.awt.Mnemonics.setLocalizedText(jLabel37, org.openide.util.NbBundle.getMessage(DiagnosticTopComponent.class, "DiagnosticTopComponent.jLabel37.text")); // NOI18N
        readDataByIdPanel.add(jLabel37);

        servicePanel.add(readDataByIdPanel, "readDataByIdCard");

        writeDataByIdPanel.setLayout(new java.awt.GridLayout(6, 2));

        org.openide.awt.Mnemonics.setLocalizedText(jLabel19, org.openide.util.NbBundle.getMessage(DiagnosticTopComponent.class, "DiagnosticTopComponent.jLabel19.text")); // NOI18N
        writeDataByIdPanel.add(jLabel19);

        writeDataByIdIdentifierField.setText(org.openide.util.NbBundle.getMessage(DiagnosticTopComponent.class, "DiagnosticTopComponent.writeDataByIdIdentifierField.text")); // NOI18N
        writeDataByIdPanel.add(writeDataByIdIdentifierField);

        org.openide.awt.Mnemonics.setLocalizedText(jLabel21, org.openide.util.NbBundle.getMessage(DiagnosticTopComponent.class, "DiagnosticTopComponent.jLabel21.text")); // NOI18N
        writeDataByIdPanel.add(jLabel21);

        writeDataByIdValueField.setText(org.openide.util.NbBundle.getMessage(DiagnosticTopComponent.class, "DiagnosticTopComponent.writeDataByIdValueField.text")); // NOI18N
        writeDataByIdValueField.setActionCommand(org.openide.util.NbBundle.getMessage(DiagnosticTopComponent.class, "DiagnosticTopComponent.writeDataByIdValueField.actionCommand")); // NOI18N
        writeDataByIdPanel.add(writeDataByIdValueField);

        org.openide.awt.Mnemonics.setLocalizedText(jLabel20, org.openide.util.NbBundle.getMessage(DiagnosticTopComponent.class, "DiagnosticTopComponent.jLabel20.text")); // NOI18N
        writeDataByIdPanel.add(jLabel20);

        org.openide.awt.Mnemonics.setLocalizedText(writeDataByIdRequestButton, org.openide.util.NbBundle.getMessage(DiagnosticTopComponent.class, "DiagnosticTopComponent.writeDataByIdRequestButton.text")); // NOI18N
        writeDataByIdRequestButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                writeDataByIdRequestButtonActionPerformed(evt);
            }
        });
        writeDataByIdPanel.add(writeDataByIdRequestButton);

        org.openide.awt.Mnemonics.setLocalizedText(jLabel38, org.openide.util.NbBundle.getMessage(DiagnosticTopComponent.class, "DiagnosticTopComponent.jLabel38.text")); // NOI18N
        writeDataByIdPanel.add(jLabel38);

        org.openide.awt.Mnemonics.setLocalizedText(jLabel39, org.openide.util.NbBundle.getMessage(DiagnosticTopComponent.class, "DiagnosticTopComponent.jLabel39.text")); // NOI18N
        writeDataByIdPanel.add(jLabel39);

        servicePanel.add(writeDataByIdPanel, "writeDataByIdCard");

        clearDiagnosticInformationPanel.setLayout(new java.awt.GridLayout(6, 2));

        org.openide.awt.Mnemonics.setLocalizedText(jLabel22, org.openide.util.NbBundle.getMessage(DiagnosticTopComponent.class, "DiagnosticTopComponent.jLabel22.text")); // NOI18N
        clearDiagnosticInformationPanel.add(jLabel22);

        clearDiagnosticInformationMaskField.setText(org.openide.util.NbBundle.getMessage(DiagnosticTopComponent.class, "DiagnosticTopComponent.clearDiagnosticInformationMaskField.text")); // NOI18N
        clearDiagnosticInformationPanel.add(clearDiagnosticInformationMaskField);

        org.openide.awt.Mnemonics.setLocalizedText(jLabel23, org.openide.util.NbBundle.getMessage(DiagnosticTopComponent.class, "DiagnosticTopComponent.jLabel23.text")); // NOI18N
        clearDiagnosticInformationPanel.add(jLabel23);

        org.openide.awt.Mnemonics.setLocalizedText(clearDiagnosticInformationRequestButton, org.openide.util.NbBundle.getMessage(DiagnosticTopComponent.class, "DiagnosticTopComponent.clearDiagnosticInformationRequestButton.text")); // NOI18N
        clearDiagnosticInformationRequestButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                clearDiagnosticInformationRequestButtonActionPerformed(evt);
            }
        });
        clearDiagnosticInformationPanel.add(clearDiagnosticInformationRequestButton);

        org.openide.awt.Mnemonics.setLocalizedText(jLabel30, org.openide.util.NbBundle.getMessage(DiagnosticTopComponent.class, "DiagnosticTopComponent.jLabel30.text")); // NOI18N
        clearDiagnosticInformationPanel.add(jLabel30);

        org.openide.awt.Mnemonics.setLocalizedText(jLabel31, org.openide.util.NbBundle.getMessage(DiagnosticTopComponent.class, "DiagnosticTopComponent.jLabel31.text")); // NOI18N
        clearDiagnosticInformationPanel.add(jLabel31);

        org.openide.awt.Mnemonics.setLocalizedText(jLabel32, org.openide.util.NbBundle.getMessage(DiagnosticTopComponent.class, "DiagnosticTopComponent.jLabel32.text")); // NOI18N
        clearDiagnosticInformationPanel.add(jLabel32);

        org.openide.awt.Mnemonics.setLocalizedText(jLabel33, org.openide.util.NbBundle.getMessage(DiagnosticTopComponent.class, "DiagnosticTopComponent.jLabel33.text")); // NOI18N
        clearDiagnosticInformationPanel.add(jLabel33);

        servicePanel.add(clearDiagnosticInformationPanel, "clearDiagnosticInformationCard");

        routineControlPanel.setLayout(new java.awt.GridLayout(6, 2));

        org.openide.awt.Mnemonics.setLocalizedText(jLabel24, org.openide.util.NbBundle.getMessage(DiagnosticTopComponent.class, "DiagnosticTopComponent.jLabel24.text")); // NOI18N
        routineControlPanel.add(jLabel24);

        routineControlTypeComboBox.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "0x01 - startRoutine", "0x02 - stopRoutine", "0x03 - requestRoutineResults" }));
        routineControlPanel.add(routineControlTypeComboBox);

        org.openide.awt.Mnemonics.setLocalizedText(jLabel26, org.openide.util.NbBundle.getMessage(DiagnosticTopComponent.class, "DiagnosticTopComponent.jLabel26.text")); // NOI18N
        routineControlPanel.add(jLabel26);

        routineControlIdentifierField.setText(org.openide.util.NbBundle.getMessage(DiagnosticTopComponent.class, "DiagnosticTopComponent.routineControlIdentifierField.text")); // NOI18N
        routineControlPanel.add(routineControlIdentifierField);

        org.openide.awt.Mnemonics.setLocalizedText(jLabel27, org.openide.util.NbBundle.getMessage(DiagnosticTopComponent.class, "DiagnosticTopComponent.jLabel27.text")); // NOI18N
        routineControlPanel.add(jLabel27);

        routineControlOptionRecordField.setText(org.openide.util.NbBundle.getMessage(DiagnosticTopComponent.class, "DiagnosticTopComponent.routineControlOptionRecordField.text")); // NOI18N
        routineControlPanel.add(routineControlOptionRecordField);

        org.openide.awt.Mnemonics.setLocalizedText(jLabel25, org.openide.util.NbBundle.getMessage(DiagnosticTopComponent.class, "DiagnosticTopComponent.jLabel25.text")); // NOI18N
        routineControlPanel.add(jLabel25);

        org.openide.awt.Mnemonics.setLocalizedText(routineControlRequestButton, org.openide.util.NbBundle.getMessage(DiagnosticTopComponent.class, "DiagnosticTopComponent.routineControlRequestButton.text")); // NOI18N
        routineControlRequestButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                routineControlRequestButtonActionPerformed(evt);
            }
        });
        routineControlPanel.add(routineControlRequestButton);

        servicePanel.add(routineControlPanel, "routineControlCard");

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.gridwidth = 7;
        gridBagConstraints.gridheight = 2;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(10, 10, 10, 10);
        add(servicePanel, gridBagConstraints);

        resultTextArea.setColumns(20);
        resultTextArea.setRows(5);
        jScrollPane1.setViewportView(resultTextArea);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 4;
        gridBagConstraints.gridwidth = 7;
        gridBagConstraints.gridheight = 2;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weighty = 10.0;
        gridBagConstraints.insets = new java.awt.Insets(10, 10, 10, 10);
        add(jScrollPane1, gridBagConstraints);
    }// </editor-fold>//GEN-END:initComponents

    private void serviceComboBoxActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_serviceComboBoxActionPerformed
        CardLayout layout = (CardLayout) servicePanel.getLayout();
        switch (serviceComboBox.getSelectedIndex()) {
            case 0:
                layout.show(servicePanel, "obdCard");
                break;
            case 1:
                layout.show(servicePanel, "diagnosticSessionControlCard");
                break;
            case 2:
                layout.show(servicePanel, "ecuResetCard");
                break;
            case 3:
                layout.show(servicePanel, "securityAccessCard");
                break;
            case 4:
                layout.show(servicePanel, "communicationControlCard");
                break;
            case 5:
                layout.show(servicePanel, "testerPresentCard");
                break;
            case 6:
                layout.show(servicePanel, "readDataByIdCard");
                break;
            case 7:
                layout.show(servicePanel, "writeDataByIdCard");
                break;
            case 8:
                layout.show(servicePanel, "clearDiagnosticInformationCard");
                break;
            case 9:
                layout.show(servicePanel, "routineControlCard");
                break;
        }
    }//GEN-LAST:event_serviceComboBoxActionPerformed

    private void setIds() {
        udsClient.setTxId(Integer.decode(transmitIdField.getText()));
        udsClient.setRxId(Integer.decode(receiveIdField.getText()));
    }
    
    private void sendTesterPresentButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_sendTesterPresentButtonActionPerformed
        setIds();
        udsClient.TesterPresent();
    }//GEN-LAST:event_sendTesterPresentButtonActionPerformed

    private void obdRequestButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_obdRequestButtonActionPerformed
        int mode, pid;

        try {
            mode = Integer.decode(obdModeComboBox.getSelectedItem().toString().split("-")[0].trim());
            pid = Integer.decode(obdPidField.getText());
        } catch (NumberFormatException e) {
            // bad parameters, do nothing
            return;
        }
        setIds();
        udsClient.ObdRequest(mode, pid);
    }//GEN-LAST:event_obdRequestButtonActionPerformed

    private void diagnosticSessionControlRequestButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_diagnosticSessionControlRequestButtonActionPerformed
        int session;
        try {
            if (diagnosticSessionComboBox.getSelectedIndex()
                    < diagnosticSessionComboBox.getItemCount() - 1) {
                // item selected has specified value, get it
                session = Integer.decode(diagnosticSessionComboBox.getSelectedItem().toString().split("-")[0].trim());
            } else {
                // other value is specified
                session = Integer.decode(diagnosticSessionField.getText());
            }
        } catch (NumberFormatException e) {
            // bad paramaters, do nothing
            return;
        }
        setIds();
        udsClient.DiagnosticSessionControl(session);
    }//GEN-LAST:event_diagnosticSessionControlRequestButtonActionPerformed

    private void ecuResetRequestButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_ecuResetRequestButtonActionPerformed
        int resetType;
        try {
            if (ecuResetTypeComboBox.getSelectedIndex()
                    < ecuResetTypeComboBox.getItemCount() - 1) {
                // item selected has specified value, get it
                resetType = Integer.decode(ecuResetTypeComboBox.getSelectedItem().toString().split("-")[0].trim());
            } else {
                // other value is specified
                resetType = Integer.decode(ecuResetTypeField.getText());
            }
        } catch (NumberFormatException e) {
            // bad paramaters, do nothing
            return;
        }
        setIds();
        udsClient.EcuReset(resetType);
    }//GEN-LAST:event_ecuResetRequestButtonActionPerformed

    private void securityAccessRequestSeedButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_securityAccessRequestSeedButtonActionPerformed
        int securityMode;
        long dataRecord;
        try {
            securityMode = Integer.decode(securityAccessSecurityLevelField.getText());
            dataRecord = Long.decode(securityAccessDataRecordField.getText());
        } catch (NumberFormatException e) {
            // bad parameters, do nothing
            System.out.println("fail");
            return;
        }
        int[] dataRecordArray = UdsClient.longToArray(dataRecord);
        setIds();
        udsClient.SecurityAccess(securityMode, dataRecordArray);
    }//GEN-LAST:event_securityAccessRequestSeedButtonActionPerformed

    private void securityAccessSendKeyButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_securityAccessSendKeyButtonActionPerformed
        int securityMode;
        long key;
        try {
            securityMode = Integer.decode(securityAccessSecurityLevelField.getText());
            key = Long.decode(securityAccessSecurityKeyField.getText());
        } catch (NumberFormatException e) {
            // bad parameters, do nothing
            return;
        }
        int[] securityKeyArray = UdsClient.longToArray(key);
        setIds();
        // add 1 to security mode to signify this is a sendKey operation
        udsClient.SecurityAccess(securityMode + 1, securityKeyArray);
    }//GEN-LAST:event_securityAccessSendKeyButtonActionPerformed

    private void readDataByIdRequestButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_readDataByIdRequestButtonActionPerformed
        int dataId;
        try {
            dataId = Integer.decode(readDataByIdField.getText());
        } catch (NumberFormatException e) {
            // bad parameters, do nothing
            return;
        }
        setIds();
        udsClient.ReadDataByIdentifier(dataId);
    }//GEN-LAST:event_readDataByIdRequestButtonActionPerformed

    private void writeDataByIdRequestButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_writeDataByIdRequestButtonActionPerformed
        int dataId;
        long value;
        try {
            dataId = Integer.decode(writeDataByIdIdentifierField.getText());
            value = Long.decode(writeDataByIdValueField.getText());
        } catch (NumberFormatException e) {
            // bad parameters, do nothing
            return;
        }
        int[] valueArray = UdsClient.longToArray(value);
        setIds();
        udsClient.WriteDataByIdentifier(dataId, valueArray);
    }//GEN-LAST:event_writeDataByIdRequestButtonActionPerformed

    private void clearDiagnosticInformationRequestButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_clearDiagnosticInformationRequestButtonActionPerformed
        int dtcMask;
        try {
            dtcMask = Integer.decode(clearDiagnosticInformationMaskField.getText());
        } catch (NumberFormatException e) {
            // bad parameters, do nothing
            return;
        }
        setIds();
        udsClient.ClearDiagnosticInformation(dtcMask);
    }//GEN-LAST:event_clearDiagnosticInformationRequestButtonActionPerformed

    private void routineControlRequestButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_routineControlRequestButtonActionPerformed
        int controlType, routineId, optionRecord;

        try {
            controlType = Integer.decode(routineControlTypeComboBox.getSelectedItem().toString().split("-")[0].trim());
            routineId = Integer.decode(routineControlIdentifierField.getText());
            optionRecord = Integer.decode(routineControlOptionRecordField.getText());
        } catch (NumberFormatException e) {
            // bad parameters, do nothing
            return;
        }
        int[] optionRecordArray = UdsClient.longToArray(optionRecord);
        setIds();
        udsClient.RoutineControl(controlType, routineId, optionRecordArray);
    }//GEN-LAST:event_routineControlRequestButtonActionPerformed

    private void transmitIdFieldActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_transmitIdFieldActionPerformed

    }//GEN-LAST:event_transmitIdFieldActionPerformed

    private void receiveIdFieldActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_receiveIdFieldActionPerformed

    }//GEN-LAST:event_receiveIdFieldActionPerformed

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JTextField clearDiagnosticInformationMaskField;
    private javax.swing.JPanel clearDiagnosticInformationPanel;
    private javax.swing.JButton clearDiagnosticInformationRequestButton;
    private javax.swing.JTextField communicationControlCommunicationTypeField;
    private javax.swing.JPanel communicationControlPanel;
    private javax.swing.JComboBox communicationControlTypeComboBox;
    private javax.swing.JTextField communicationControlTypeField;
    private javax.swing.JComboBox diagnosticSessionComboBox;
    private javax.swing.JPanel diagnosticSessionControlPanel;
    private javax.swing.JButton diagnosticSessionControlRequestButton;
    private javax.swing.JTextField diagnosticSessionField;
    private javax.swing.JPanel ecuResetPanel;
    private javax.swing.JButton ecuResetRequestButton;
    private javax.swing.JButton ecuResetRequestButton1;
    private javax.swing.JComboBox ecuResetTypeComboBox;
    private javax.swing.JTextField ecuResetTypeField;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel10;
    private javax.swing.JLabel jLabel11;
    private javax.swing.JLabel jLabel12;
    private javax.swing.JLabel jLabel13;
    private javax.swing.JLabel jLabel14;
    private javax.swing.JLabel jLabel15;
    private javax.swing.JLabel jLabel16;
    private javax.swing.JLabel jLabel17;
    private javax.swing.JLabel jLabel18;
    private javax.swing.JLabel jLabel19;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel20;
    private javax.swing.JLabel jLabel21;
    private javax.swing.JLabel jLabel22;
    private javax.swing.JLabel jLabel23;
    private javax.swing.JLabel jLabel24;
    private javax.swing.JLabel jLabel25;
    private javax.swing.JLabel jLabel26;
    private javax.swing.JLabel jLabel27;
    private javax.swing.JLabel jLabel28;
    private javax.swing.JLabel jLabel29;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel30;
    private javax.swing.JLabel jLabel31;
    private javax.swing.JLabel jLabel32;
    private javax.swing.JLabel jLabel33;
    private javax.swing.JLabel jLabel34;
    private javax.swing.JLabel jLabel35;
    private javax.swing.JLabel jLabel36;
    private javax.swing.JLabel jLabel37;
    private javax.swing.JLabel jLabel38;
    private javax.swing.JLabel jLabel39;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JSeparator jSeparator1;
    private javax.swing.JSeparator jSeparator2;
    private javax.swing.JComboBox obdModeComboBox;
    private javax.swing.JPanel obdPanel;
    private javax.swing.JTextField obdPidField;
    private javax.swing.JButton obdRequestButton;
    private javax.swing.JTextField readDataByIdField;
    private javax.swing.JPanel readDataByIdPanel;
    private javax.swing.JButton readDataByIdRequestButton;
    private javax.swing.JTextField receiveIdField;
    private javax.swing.JTextArea resultTextArea;
    private javax.swing.JTextField routineControlIdentifierField;
    private javax.swing.JTextField routineControlOptionRecordField;
    private javax.swing.JPanel routineControlPanel;
    private javax.swing.JButton routineControlRequestButton;
    private javax.swing.JComboBox routineControlTypeComboBox;
    private javax.swing.JTextField securityAccessDataRecordField;
    private javax.swing.JPanel securityAccessPanel;
    private javax.swing.JButton securityAccessRequestSeedButton;
    private javax.swing.JTextField securityAccessSecurityKeyField;
    private javax.swing.JTextField securityAccessSecurityLevelField;
    private javax.swing.JButton securityAccessSendKeyButton;
    private javax.swing.JButton sendTesterPresentButton;
    private javax.swing.JComboBox serviceComboBox;
    private javax.swing.JPanel servicePanel;
    private javax.swing.JPanel testerPresentPanel;
    private javax.swing.JTextField transmitIdField;
    private javax.swing.JTextField writeDataByIdIdentifierField;
    private javax.swing.JPanel writeDataByIdPanel;
    private javax.swing.JButton writeDataByIdRequestButton;
    private javax.swing.JTextField writeDataByIdValueField;
    // End of variables declaration//GEN-END:variables
    @Override
    public void componentOpened() {
        // TODO add custom code on component opening
    }

    @Override
    public void componentClosed() {
        // TODO add custom code on component closing
    }

    void writeProperties(java.util.Properties p) {
        // better to version settings since initial version as advocated at
        // http://wiki.apidesign.org/wiki/PropertyFiles
        p.setProperty("version", "1.0");
        // TODO store your settings
    }

    void readProperties(java.util.Properties p) {
        String version = p.getProperty("version");
        // TODO read your settings according to their version
    }
    
    private final class DiagnosticIsotpCallback implements IsotpCallback {
        @Override
        public void onIsotpReceived(int[] data) {
            String result = "";
            for (int i : data) {
                result = String.format("%s0x%X ", result, i);
            }
            resultTextArea.setText(String.format("%s\n%s", 
                    resultTextArea.getText(), result));
        }
    }
}
